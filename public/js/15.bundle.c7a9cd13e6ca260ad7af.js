(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{938:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return s}));var r=n(22),a=Object(r.a)((function(){return n.e(6).then(n.bind(null,941))})),c=Object(r.a)((function(){return Promise.all([n.e(1),n.e(7)]).then(n.bind(null,942))})),u=Object(r.a)((function(){return n.e(37).then(n.bind(null,943))})),s=Object(r.a)((function(){return Promise.all([n.e(0),n.e(22)]).then(n.bind(null,944))}))},956:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return u}));var r=n(22),a=Object(r.a)((function(){return n.e(43).then(n.bind(null,960))})),c=Object(r.a)((function(){return n.e(23).then(n.bind(null,961))})),u=Object(r.a)((function(){return Promise.all([n.e(0),n.e(44)]).then(n.bind(null,962))}))},973:function(e,t,n){"use strict";n.r(t);var r=n(4),a=n.n(r),c=n(5),u=n.n(c),s=n(49),i=n.n(s),o=n(9),l=n.n(o),p=n(35),f=n.n(p),d=n(54),m=n.n(d),b=n(31),h=n.n(b),g=n(0),O=n.n(g),v=n(21),w=n(28),j=n(61),y=n(105),E=n(940),k=n(203),P=n(938),S=n(956);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(n,!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.default=Object(w.withStyles)((function(e){return{pageContentWrapper:{width:"100%",marginTop:3*e.spacing.unit,minHeight:"75vh",overflowX:"auto"},pageContent:{padding:3*e.spacing.unit},loadingContainer:{minHeight:200}}}))((function(e){var t=Object(g.useState)(!1),n=h()(t,2),r=n[0],c=n[1],s=Object(g.useState)(0),o=h()(s,2),l=o[0],p=o[1],d=Object(g.useState)([]),b=h()(d,2),w=b[0],x=b[1],D=Object(g.useState)({}),N=h()(D,2),U=N[0],W=N[1],A=Object(g.useState)({}),B=h()(A,2),H=B[0],I=B[1],J=function(){var e=m()(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.prev=1,e.next=4,E.f.show(t);case 4:n=e.sent,W(n),c(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),c(!1);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),T=function(){p(l-1)},X=function(){var e=m()(f.a.mark((function e(t,n){var r,a,u,s,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.setSubmitting,a=n.setErrors,r(!1),2!==l){e.next=4;break}return e.abrupt("return");case 4:return c(!0),e.prev=5,u={},1===l&&(u=w.reduce((function(e,t){return C({},e,{},t)}))),t.step=l,e.next=11,E.f.update(U.id,C({},u,{},t));case 11:e.sent,(s=i()(w))[l]=t,1===l&&I({type:"success",body:Lang.get("resources.updated",{name:"User"}),closed:function(){return I({})}}),c(!1),x(s),W(U),p(l+1),e.next=28;break;case 21:if(e.prev=21,e.t0=e.catch(5),e.t0.response){e.next=25;break}throw new Error("Unknown error");case 25:o=e.t0.response.data.errors,a(o),c(!1);case 28:case"end":return e.stop()}}),e,null,[[5,21]])})));return function(t,n){return e.apply(this,arguments)}}();Object(g.useEffect)((function(){if(!(Object.keys(U).length>0)){var t=e.match.params,n=e.location,r=j.a(n.search);r.hasOwnProperty("step")&&p(parseInt(r.step)),J(t.id)}}));var L=e.classes,M=u()(e,["classes"]),V=e.history,q=O.a.createElement(v.u,{container:!0,className:L.loadingContainer,justify:"center",alignItems:"center"},O.a.createElement(v.u,{item:!0},O.a.createElement(v.f,{color:"primary"})));return O.a.createElement(P.b,a()({},M,{pageTitle:"Edit user",tabs:[],message:H}),O.a.createElement("div",{className:L.pageContentWrapper},r&&O.a.createElement(k.b,null),O.a.createElement(v.P,null,O.a.createElement("div",{className:L.pageContent},O.a.createElement(v.mb,{component:"h1",variant:"h4",align:"center",gutterBottom:!0},"User Modification"),O.a.createElement(v.X,{activeStep:l,className:L.stepper},["Profile","Account","Avatar"].map((function(e){return O.a.createElement(v.V,{key:e},O.a.createElement(v.W,null,e))}))),function(){if(r)return q;var e={firstname:null===U.firstname?"":U.firstname,middlename:null===U.middlename?"":U.middlename,lastname:null===U.lastname?"":U.lastname,gender:null===U.gender?"":U.gender,birthdate:U.birthdate,address:null===U.address?"":U.address};switch(l){case 0:return O.a.createElement(S.c,a()({},M,{values:w[0]?w[0]:e,handleSubmit:X}));case 1:return O.a.createElement(S.a,a()({},M,{values:{type:null===U.type?"":U.type,email:null===U.email?"":U.email,username:null===U.username?"":U.username},handleSubmit:X,handleBack:T}));case 2:return O.a.createElement(S.b,a()({},M,{user:U,handleSkip:function(){return V.push(y.a("backoffice.resources.users.index"))}}));default:throw new Error("Unknown step!")}}()))))}))}}]);