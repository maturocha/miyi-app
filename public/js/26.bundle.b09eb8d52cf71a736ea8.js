(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{873:function(e,t,r){"use strict";r.r(t);var n=r(4),a=r.n(n),i=r(9),s=r.n(i),o=r(35),c=r.n(o),l=r(54),u=r.n(l),d=r(31),p=r.n(d),m=r(5),b=r.n(m),g=r(0),f=r.n(g),w=r(148),h=r(147),v=r(21),y=r(28),E=r(884),O=r(885),j=r(61),P=r(938),_=r(43);function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(r,!0).forEach((function(t){s()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.default=Object(y.withStyles)((function(e){return{form:{padding:3*e.spacing.unit,minHeight:"100%"},dense:{marginTop:16},spinner:{marginRight:e.spacing.unit}}}))((function(e){var t=Object(g.useContext)(_.a).user,r=e.classes,n=b()(e,["classes"]),i=e.location,s=Object(g.useState)(!1),o=p()(s,2),l=o[0],d=o[1],m=Object(g.useState)(!1),y=p()(m,2),x=y[0],C=y[1],k=Object(g.useState)({}),L=p()(k,2),T=L[0],q=L[1],A=Object(g.useState)(!1),N=p()(A,2),D=N[0],W=N[1],B=Object(g.useState)(!1),V=p()(B,2),I=V[0],U=V[1],z=Object(g.useState)(!1),J=p()(z,2),F=J[0],H=J[1],R=Object(g.useState)(!1),G=p()(R,2),K=G[0],M=G[1],Q=function(){var e=u()(c.a.mark((function e(t,r){var n,a,i,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.setSubmitting,a=r.setErrors,n(!1),i=function(){return axios.patch("/api/v1/settings/account/credentials",t)},e.prev=3,C(!0),e.next=7,i();case 7:q({type:"success",body:Lang.get("settings.account_credentials_updated"),closed:function(){return q({})}}),C(!1),e.next=18;break;case 11:if(e.prev=11,e.t0=e.catch(3),e.t0.response){e.next=15;break}return e.abrupt("return");case 15:(s=e.t0.response.data.errors)?a(s):q({type:"error",body:Lang.get("settings.account_credentials_not_updated"),closed:function(){return q({})},actionText:Lang.get("actions.retry"),action:function(){var e=u()(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}),C(!1);case 18:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t,r){return e.apply(this,arguments)}}(),X=function(){var e=u()(c.a.mark((function e(t,r){var n,a,i,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.setSubmitting,a=r.setErrors,n(!1),i=function(){return axios.patch("/api/v1/settings/account/password",t)},e.prev=3,d(!0),e.next=7,i();case 7:q({type:"success",body:Lang.get("settings.account_password_updated"),closed:function(){return q({})}}),d(!1),e.next=18;break;case 11:if(e.prev=11,e.t0=e.catch(3),e.t0.response){e.next=15;break}return e.abrupt("return");case 15:(s=e.t0.response.data.errors)?a(s):q({type:"error",body:Lang.get("settings.account_password_not_updated"),closed:function(){return q({})},actionText:Lang.get("actions.retry"),action:function(){var e=u()(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}),d(!1);case 18:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t,r){return e.apply(this,arguments)}}();Object(g.useEffect)((function(){var e=j.a(i.search);e.hasOwnProperty("visible")?W(!0):e.hasOwnProperty("hidden")&&W(!1)}));var Y=f.a.createElement(w.b,{initialValues:{old_password:"",password:"",password_confirmation:""},validationSchema:h.object().shape({old_password:h.string().required(Lang.get("validation.required",{attribute:"old password"})),password:h.string().required(Lang.get("validation.required",{attribute:"password"})).min(8,Lang.get("validation.min.string",{attribute:"password",min:8})).oneOf([h.ref("password_confirmation"),null],Lang.get("validation.confirmed",{attribute:"password"})),password_confirmation:h.string().required(Lang.get("validation.required",{attribute:"password confirmation"})).min(8,Lang.get("validation.min.string",{attribute:"password confirmation",min:8}))}),onSubmit:X,validateOnBlur:!1},(function(e){var t=e.values,n=e.errors,a=e.submitCount,i=e.isSubmitting,s=e.handleChange;return f.a.createElement(w.a,null,f.a.createElement(v.mb,{variant:"h6",gutterBottom:!0},"Change Password"),f.a.createElement(v.jb,{type:I?"text":"password",id:"old_password",name:"old_password",label:"Old Password",placeholder:"Enter your old password",value:t.old_password,onChange:s,fullWidth:!0,margin:"dense",InputProps:{endAdornment:f.a.createElement(v.A,{position:"end"},f.a.createElement(v.y,{"aria-label":"Toggle old password visibility",onClick:function(){return U(!I)}},I?f.a.createElement(E.a,null):f.a.createElement(O.a,null)))},error:a>0&&n.hasOwnProperty("old_password"),helperText:a>0&&n.hasOwnProperty("old_password")&&n.old_password}),f.a.createElement(v.jb,{type:F?"text":"password",id:"password",name:"password",label:"Password",placeholder:"Enter your password",value:t.password,onChange:s,fullWidth:!0,margin:"dense",InputProps:{endAdornment:f.a.createElement(v.A,{position:"end"},f.a.createElement(v.y,{"aria-label":"Toggle password visibility",onClick:function(){return H(!F)}},F?f.a.createElement(E.a,null):f.a.createElement(O.a,null)))},error:a>0&&n.hasOwnProperty("password"),helperText:a>0&&n.hasOwnProperty("password")&&n.password}),f.a.createElement(v.jb,{type:K?"text":"password",id:"password_confirmation",name:"password_confirmation",label:"Password Confirmation",placeholder:"Enter your password again",value:t.password_confirmation,onChange:s,fullWidth:!0,margin:"dense",InputProps:{endAdornment:f.a.createElement(v.A,{position:"end"},f.a.createElement(v.y,{"aria-label":"Toggle password confirmation visibility",onClick:function(){return M(!K)}},K?f.a.createElement(E.a,null):f.a.createElement(O.a,null)))},error:a>0&&n.hasOwnProperty("password_confirmation"),helperText:a>0&&n.hasOwnProperty("password_confirmation")&&n.password_confirmation}),f.a.createElement("div",{className:r.dense}),f.a.createElement(v.c,{type:"submit",variant:"contained",color:"primary",disabled:n&&Object.keys(n).length>0&&a>0||i},l&&f.a.createElement("div",{className:r.spinner},f.a.createElement(v.f,{size:14,color:"inherit"})),f.a.createElement(v.mb,{color:"inherit"},"Change")))})),Z=f.a.createElement(w.b,{initialValues:{username:t.username,email:t.email},validationSchema:h.object().shape({username:h.string().required(Lang.get("validation.required",{attribute:"username"})),email:h.string().required(Lang.get("validation.required",{attribute:"email"})).email(Lang.get("validation.email",{attribute:"email"}))}),onSubmit:Q,validateOnBlur:!1},(function(e){var t=e.values,n=e.errors,a=e.submitCount,i=e.isSubmitting,s=e.handleChange;return f.a.createElement(w.a,null,f.a.createElement(v.mb,{variant:"h6",gutterBottom:!0},"Login Credentials"),f.a.createElement(v.jb,{id:"username",name:"username",label:"Username",placeholder:"Enter your username",value:t.username,onChange:s,fullWidth:!0,margin:"dense",error:a>0&&n.hasOwnProperty("username"),helperText:a>0&&n.hasOwnProperty("username")&&n.username}),f.a.createElement(v.jb,{id:"email",name:"email",label:"Email",placeholder:"Enter your email",value:t.email,onChange:s,fullWidth:!0,margin:"dense",error:a>0&&n.hasOwnProperty("email"),helperText:a>0&&n.hasOwnProperty("email")&&n.email}),f.a.createElement("div",{className:r.dense}),f.a.createElement(v.c,{type:"submit",variant:"contained",color:"primary",disabled:n&&Object.keys(n).length>0&&a>0||i},x&&f.a.createElement("div",{className:r.spinner},f.a.createElement(v.f,{size:14,color:"inherit"})),f.a.createElement(v.mb,{color:"inherit"},"Update")))})),$=f.a.createElement(v.u,{item:!0,md:8,sm:12,xs:12},f.a.createElement(v.P,{className:r.form},Y,f.a.createElement("div",{className:r.dense}),Z)),ee=f.a.createElement(P.c,{navigationProps:S({},n,{formVisible:D,setFormVisibility:function(){return W(!D)}})},f.a.createElement(v.w,{mdUp:!0},D&&$),f.a.createElement(v.w,{smDown:!0},$)),te=D?P.d:P.a;return f.a.createElement(te,a()({},n,{pageTitle:"Account",message:T}),ee)}))},938:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return s})),r.d(t,"d",(function(){return o}));var n=r(22),a=Object(n.a)((function(){return r.e(6).then(r.bind(null,941))})),i=Object(n.a)((function(){return Promise.all([r.e(1),r.e(7)]).then(r.bind(null,942))})),s=Object(n.a)((function(){return r.e(37).then(r.bind(null,943))})),o=Object(n.a)((function(){return Promise.all([r.e(0),r.e(22)]).then(r.bind(null,944))}))}}]);