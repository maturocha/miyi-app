(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{876:function(e,t,n){"use strict";n.r(t);var r=n(4),a=n.n(r),i=n(9),s=n.n(i),o=n(35),c=n.n(o),l=n(54),u=n.n(l),d=n(31),p=n.n(d),m=n(5),b=n.n(m),g=n(0),f=n.n(g),w=n(148),h=n(147),v=n(21),y=n(28),E=n(886),O=n(887),j=n(61),P=n(941),x=n(43);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(n,!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.default=Object(y.withStyles)((function(e){return{form:{padding:3*e.spacing.unit,minHeight:"100%"},dense:{marginTop:16},spinner:{marginRight:e.spacing.unit}}}))((function(e){var t=Object(g.useContext)(x.a).user,n=e.classes,r=b()(e,["classes"]),i=e.location,s=Object(g.useState)(!1),o=p()(s,2),l=o[0],d=o[1],m=Object(g.useState)(!1),y=p()(m,2),_=y[0],C=y[1],k=Object(g.useState)({}),L=p()(k,2),T=L[0],q=L[1],B=Object(g.useState)(!1),N=p()(B,2),z=N[0],D=N[1],W=Object(g.useState)(!1),A=p()(W,2),V=A[0],I=A[1],U=Object(g.useState)(!1),J=p()(U,2),F=J[0],H=J[1],R=Object(g.useState)(!1),G=p()(R,2),K=G[0],M=G[1],Q=function(){var e=u()(c.a.mark((function e(t,n){var r,a,i,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.setSubmitting,a=n.setErrors,r(!1),i=function(){return axios.patch("/api/v1/settings/account/credentials",t)},e.prev=3,C(!0),e.next=7,i();case 7:q({type:"success",body:Lang.get("settings.account_credentials_updated"),closed:function(){return q({})}}),C(!1),e.next=18;break;case 11:if(e.prev=11,e.t0=e.catch(3),e.t0.response){e.next=15;break}return e.abrupt("return");case 15:(s=e.t0.response.data.errors)?a(s):q({type:"error",body:Lang.get("settings.account_credentials_not_updated"),closed:function(){return q({})},actionText:Lang.get("actions.retry"),action:function(){var e=u()(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}),C(!1);case 18:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t,n){return e.apply(this,arguments)}}(),X=function(){var e=u()(c.a.mark((function e(t,n){var r,a,i,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.setSubmitting,a=n.setErrors,r(!1),i=function(){return axios.patch("/api/v1/settings/account/password",t)},e.prev=3,d(!0),e.next=7,i();case 7:q({type:"success",body:Lang.get("settings.account_password_updated"),closed:function(){return q({})}}),d(!1),e.next=18;break;case 11:if(e.prev=11,e.t0=e.catch(3),e.t0.response){e.next=15;break}return e.abrupt("return");case 15:(s=e.t0.response.data.errors)?a(s):q({type:"error",body:Lang.get("settings.account_password_not_updated"),closed:function(){return q({})},actionText:Lang.get("actions.retry"),action:function(){var e=u()(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}),d(!1);case 18:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t,n){return e.apply(this,arguments)}}();Object(g.useEffect)((function(){var e=j.a(i.search);e.hasOwnProperty("visible")?D(!0):e.hasOwnProperty("hidden")&&D(!1)}));var Y=f.a.createElement(w.b,{initialValues:{old_password:"",password:"",password_confirmation:""},validationSchema:h.object().shape({old_password:h.string().required(Lang.get("validation.required",{attribute:"old password"})),password:h.string().required(Lang.get("validation.required",{attribute:"password"})).min(8,Lang.get("validation.min.string",{attribute:"password",min:8})).oneOf([h.ref("password_confirmation"),null],Lang.get("validation.confirmed",{attribute:"password"})),password_confirmation:h.string().required(Lang.get("validation.required",{attribute:"password confirmation"})).min(8,Lang.get("validation.min.string",{attribute:"password confirmation",min:8}))}),onSubmit:X,validateOnBlur:!1},(function(e){var t=e.values,r=e.errors,a=e.submitCount,i=e.isSubmitting,s=e.handleChange;return f.a.createElement(w.a,null,f.a.createElement(v.mb,{variant:"h6",gutterBottom:!0},"Change Password"),f.a.createElement(v.jb,{type:V?"text":"password",id:"old_password",name:"old_password",label:"Old Password",placeholder:"Enter your old password",value:t.old_password,onChange:s,fullWidth:!0,margin:"dense",InputProps:{endAdornment:f.a.createElement(v.B,{position:"end"},f.a.createElement(v.z,{"aria-label":"Toggle old password visibility",onClick:function(){return I(!V)}},V?f.a.createElement(E.a,null):f.a.createElement(O.a,null)))},error:a>0&&r.hasOwnProperty("old_password"),helperText:a>0&&r.hasOwnProperty("old_password")&&r.old_password}),f.a.createElement(v.jb,{type:F?"text":"password",id:"password",name:"password",label:"Password",placeholder:"Enter your password",value:t.password,onChange:s,fullWidth:!0,margin:"dense",InputProps:{endAdornment:f.a.createElement(v.B,{position:"end"},f.a.createElement(v.z,{"aria-label":"Toggle password visibility",onClick:function(){return H(!F)}},F?f.a.createElement(E.a,null):f.a.createElement(O.a,null)))},error:a>0&&r.hasOwnProperty("password"),helperText:a>0&&r.hasOwnProperty("password")&&r.password}),f.a.createElement(v.jb,{type:K?"text":"password",id:"password_confirmation",name:"password_confirmation",label:"Password Confirmation",placeholder:"Enter your password again",value:t.password_confirmation,onChange:s,fullWidth:!0,margin:"dense",InputProps:{endAdornment:f.a.createElement(v.B,{position:"end"},f.a.createElement(v.z,{"aria-label":"Toggle password confirmation visibility",onClick:function(){return M(!K)}},K?f.a.createElement(E.a,null):f.a.createElement(O.a,null)))},error:a>0&&r.hasOwnProperty("password_confirmation"),helperText:a>0&&r.hasOwnProperty("password_confirmation")&&r.password_confirmation}),f.a.createElement("div",{className:n.dense}),f.a.createElement(v.c,{type:"submit",variant:"contained",color:"primary",disabled:r&&Object.keys(r).length>0&&a>0||i},l&&f.a.createElement("div",{className:n.spinner},f.a.createElement(v.f,{size:14,color:"inherit"})),f.a.createElement(v.mb,{color:"inherit"},"Change")))})),Z=f.a.createElement(w.b,{initialValues:{username:t.username,email:t.email},validationSchema:h.object().shape({username:h.string().required(Lang.get("validation.required",{attribute:"username"})),email:h.string().required(Lang.get("validation.required",{attribute:"email"})).email(Lang.get("validation.email",{attribute:"email"}))}),onSubmit:Q,validateOnBlur:!1},(function(e){var t=e.values,r=e.errors,a=e.submitCount,i=e.isSubmitting,s=e.handleChange;return f.a.createElement(w.a,null,f.a.createElement(v.mb,{variant:"h6",gutterBottom:!0},"Login Credentials"),f.a.createElement(v.jb,{id:"username",name:"username",label:"Username",placeholder:"Enter your username",value:t.username,onChange:s,fullWidth:!0,margin:"dense",error:a>0&&r.hasOwnProperty("username"),helperText:a>0&&r.hasOwnProperty("username")&&r.username}),f.a.createElement(v.jb,{id:"email",name:"email",label:"Email",placeholder:"Enter your email",value:t.email,onChange:s,fullWidth:!0,margin:"dense",error:a>0&&r.hasOwnProperty("email"),helperText:a>0&&r.hasOwnProperty("email")&&r.email}),f.a.createElement("div",{className:n.dense}),f.a.createElement(v.c,{type:"submit",variant:"contained",color:"primary",disabled:r&&Object.keys(r).length>0&&a>0||i},_&&f.a.createElement("div",{className:n.spinner},f.a.createElement(v.f,{size:14,color:"inherit"})),f.a.createElement(v.mb,{color:"inherit"},"Update")))})),$=f.a.createElement(v.v,{item:!0,md:8,sm:12,xs:12},f.a.createElement(v.P,{className:n.form},Y,f.a.createElement("div",{className:n.dense}),Z)),ee=f.a.createElement(P.c,{navigationProps:S({},r,{formVisible:z,setFormVisibility:function(){return D(!z)}})},f.a.createElement(v.x,{mdUp:!0},z&&$),f.a.createElement(v.x,{smDown:!0},$)),te=z?P.d:P.a;return f.a.createElement(te,a()({},r,{pageTitle:"Account",message:T}),ee)}))},941:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return o}));var r=n(22),a=Object(r.a)((function(){return n.e(6).then(n.bind(null,954))})),i=Object(r.a)((function(){return n.e(7).then(n.bind(null,955))})),s=Object(r.a)((function(){return n.e(37).then(n.bind(null,956))})),o=Object(r.a)((function(){return Promise.all([n.e(0),n.e(14)]).then(n.bind(null,957))}))}}]);