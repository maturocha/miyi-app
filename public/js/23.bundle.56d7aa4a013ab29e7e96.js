(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{939:function(e,n,t){"use strict";t.d(n,"a",(function(){return a})),t.d(n,"b",(function(){return i})),t.d(n,"d",(function(){return u})),t.d(n,"e",(function(){return c})),t.d(n,"f",(function(){return o})),t.d(n,"g",(function(){return s})),t.d(n,"c",(function(){return l})),t.d(n,"h",(function(){return d})),t.d(n,"i",(function(){return f}));var r=t(22),a=Object(r.a)((function(){return Promise.all([t.e(0),t.e(17)]).then(t.bind(null,945))})),i=Object(r.a)((function(){return Promise.all([t.e(0),t.e(18)]).then(t.bind(null,946))})),u=Object(r.a)((function(){return t.e(32).then(t.bind(null,952))})),c=Object(r.a)((function(){return Promise.all([t.e(0),t.e(33)]).then(t.bind(null,947))})),o=Object(r.a)((function(){return Promise.all([t.e(0),t.e(34)]).then(t.bind(null,948))})),s=Object(r.a)((function(){return t.e(35).then(t.bind(null,949))})),l=Object(r.a)((function(){return Promise.all([t.e(0),t.e(31)]).then(t.bind(null,950))})),d=Object(r.a)((function(){return Promise.all([t.e(0),t.e(36)]).then(t.bind(null,951))})),f=Object(r.a)((function(){return Promise.all([t.e(0),t.e(37)]).then(t.bind(null,953))}))},962:function(e,n,t){"use strict";t.r(n);var r=t(35),a=t.n(r),i=t(54),u=t.n(i),c=t(31),o=t.n(c),s=t(0),l=t.n(s),d=t(2),f=t.n(d),p=t(21),m=t(28),b=t(939);function h(e){var n=Object(s.useState)([]),t=o()(n,2),r=t[0],i=t[1],c=function(){var n=u()(a.a.mark((function n(t,r){var i,u;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=e.user,n.prev=1,n.next=4,axios.delete("api/v1/users/".concat(i.id,"/avatar"));case 4:if(200===(u=n.sent).status){n.next=8;break}return r(!1,u.statusText),n.abrupt("return");case 8:r(!0),n.next=17;break;case 11:if(n.prev=11,n.t0=n.catch(1),n.t0.response){n.next=16;break}return r(!1,"File not removed due to unknown error."),n.abrupt("return");case 16:r(!1,n.t0.response.statusText);case 17:case"end":return n.stop()}}),n,null,[[1,11]])})));return function(e,t){return n.apply(this,arguments)}}(),d=function(){var n=u()(a.a.mark((function n(t,r){var i,u,c;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=e.user,n.prev=1,(u=new FormData).append("avatar",t),n.next=6,fetch("api/v1/users/".concat(i.id,"/avatar"),{method:"POST",headers:{Authorization:axios.defaults.headers.common.Authorization,"X-CSRF-TOKEN":axios.defaults.headers.common["X-CSRF-TOKEN"]},body:u});case 6:200!==(c=n.sent).status&&r(!1,c.statusText),r(!0),n.next=17;break;case 11:if(n.prev=11,n.t0=n.catch(1),n.t0.response){n.next=16;break}return removed(!1,"File not uploaded due to unknown error."),n.abrupt("return");case 16:removed(!1,n.t0.response.statusText);case 17:case"end":return n.stop()}}),n,null,[[1,11]])})));return function(e,t){return n.apply(this,arguments)}}();Object(s.useEffect)((function(){r.length>0||function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var n=e.user;if(n.hasOwnProperty("filename")&&null!==n.filename){var t=[{name:n.original_filename,size:n.thumbnail_filesize,url:n.thumbnail_url,type:"image/".concat(n.filename.split(".").reverse()[0]),status:"uploaded"}];i(t)}}()}));var f=e.classes,m=e.handleSkip;return l.a.createElement(l.a.Fragment,null,l.a.createElement(p.lb,{variant:"h6",gutterBottom:!0},"Avatar Upload"),l.a.createElement(b.b,{initialFiles:r,maxFiles:1,maxFileSize:25,handleUpload:d,handleFileRemoved:c}),l.a.createElement("div",{className:f.sectionSpacer}),l.a.createElement(p.u,{container:!0,spacing:24,justify:"flex-end"},l.a.createElement(p.u,{item:!0},l.a.createElement(p.c,{variant:"contained",color:"primary",onClick:m},"Finish"))))}h.propTypes={classes:f.a.object.isRequired,user:f.a.object.isRequired,handleSkip:f.a.func.isRequired};n.default=Object(m.withStyles)((function(e){return{root:{padding:10*e.spacing.unit,border:"1px solid ".concat(e.palette.text.primary)},sectionSpacer:{marginTop:2*e.spacing.unit}}}))(h)}}]);