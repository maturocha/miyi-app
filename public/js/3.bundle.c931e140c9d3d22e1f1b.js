(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{938:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return u}));var r=n(22),a=Object(r.a)((function(){return n.e(6).then(n.bind(null,941))})),c=Object(r.a)((function(){return Promise.all([n.e(1),n.e(7)]).then(n.bind(null,942))})),o=Object(r.a)((function(){return n.e(37).then(n.bind(null,943))})),u=Object(r.a)((function(){return Promise.all([n.e(0),n.e(22)]).then(n.bind(null,944))}))},939:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return s})),n.d(t,"g",(function(){return l})),n.d(t,"h",(function(){return p}));var r=n(22),a=Object(r.a)((function(){return Promise.all([n.e(0),n.e(17)]).then(n.bind(null,945))})),c=Object(r.a)((function(){return Promise.all([n.e(0),n.e(18)]).then(n.bind(null,946))})),o=Object(r.a)((function(){return n.e(31).then(n.bind(null,951))})),u=Object(r.a)((function(){return Promise.all([n.e(0),n.e(32)]).then(n.bind(null,947))})),i=Object(r.a)((function(){return Promise.all([n.e(0),n.e(33)]).then(n.bind(null,948))})),s=Object(r.a)((function(){return n.e(34).then(n.bind(null,949))})),l=Object(r.a)((function(){return Promise.all([n.e(0),n.e(35)]).then(n.bind(null,950))})),p=Object(r.a)((function(){return Promise.all([n.e(0),n.e(36)]).then(n.bind(null,952))}))},955:function(e,t,n){"use strict"},971:function(e,t,n){"use strict";n.r(t);var r=n(4),a=n.n(r),c=n(9),o=n.n(c),u=n(35),i=n.n(u),s=n(54),l=n.n(s),p=n(31),f=n.n(p),d=n(0),y=n.n(d),b=n(21),g=n(888),m=n(889),h=n(890),v=(n(955),n(105)),O=n(61),w=n(939),j=n(938),x=n(940),P=n(43);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(n,!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.default=function(e){var t,n=Object(d.useState)(!1),r=f()(n,2),c=r[0],u=r[1],s=Object(d.useState)({}),p=f()(s,2),k=p[0],L=p[1],T=Object(d.useState)({by:"name",type:"asc"}),_=f()(T,2),U=_[0],S=_[1],B=Object(d.useState)({}),C=f()(B,2),D=C[0],I=C[1],A=Object(d.useState)({}),F=f()(A,2),J=F[0],N=F[1],R=Object(d.useState)({}),V=f()(R,2),q=V[0],z=V[1],G=function(){var e=l()(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete(n=E({},D))[t],e.next=4,Y(E({},Z(),{filters:n}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=l()(i.a.mark((function e(t,n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,n.setSubmitting)(!1),r=E({},D,o()({},"".concat(t.filterBy,"[").concat(t.filterType,"]"),t.filterValue)),e.next=5,Y(E({},Z(),{filters:r}));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),K=function(){var e=l()(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y(E({},Z(),{sortBy:t,sortType:n}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),M=function(){var e=l()(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y(E({},Z(),{page:t}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=l()(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y(E({},Z(),{perPage:t,page:n}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),W=function(){var e=l()(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.prev=1,e.next=4,x.f.restore(t);case 4:n=e.sent,u(!1),L(n),z({}),N({type:"success",body:Lang.get("resources.restored",{name:"User"}),closed:function(){return N({})}}),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(1),u(!1),z({}),N({type:"error",body:Lang.get("resources.not_restored",{name:"User"}),closed:function(){return N({})},actionText:Lang.get("actions.retry"),action:function(){return W(t)}});case 16:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=l()(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.prev=1,e.next=4,x.f.delete(t);case 4:n=e.sent,u(!1),L(n),z({}),N({type:"success",body:Lang.get("resources.deleted",{name:"User"}),closed:function(){return N({})},actionText:Lang.get("actions.undo"),action:function(){return W(t)}}),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(1),u(!1),z({}),N({type:"error",body:Lang.get("resources.not_deleted",{name:"User"}),closed:function(){return N({})},actionText:Lang.get("actions.retry"),action:function(){return X(t)}});case 16:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=l()(i.a.mark((function e(){var t,n,r,a,c,o,s,l,p=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.length>0&&void 0!==p[0]?p[0]:{},u(!0),e.prev=2,n=t.page,r=t.perPage,a=t.sortBy,c=t.sortType,o=t.filters,s=E({page:n,perPage:r,sortBy:a,sortType:c},o),e.next=7,x.f.paginated(s);case 7:l=e.sent,u(!1),S({by:a||U.by,type:c||U.type}),I(o||D),L(l),N({}),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),u(!1);case 18:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=U.sortBy,t=U.sortType,n=k.current_page;return{sortBy:e,sortType:t,perPage:k.per_page,page:n,filters:D}};Object(d.useEffect)((function(){if(k.hasOwnProperty("data"))!function(){var t=e.history,n=e.location,r=k.current_page,a=k.per_page,c=U.by,o=U.type,u=O.b(E({page:r,perPage:a,sortBy:c,sortType:o},D));t.push("".concat(n.pathname).concat(u))}();else{var t=e.location,n=t.search?O.a(t.search):{},r={},a=Object.values(n);Object.keys(n).forEach((function(e,t){e.search(/\[*]/)>-1&&e.indexOf("_")<0&&(r[e]=a[t])})),Y(E({},n,{filters:r}))}}),[k.data]);var $=Object(d.useContext)(P.a).user,ee=a()({},e),te=e.history,ne=k.data,re=k.total,ae=k.per_page,ce=k.current_page,oe={text:Lang.get("resources.create",{name:"User"}),clicked:function(){return te.push(v.a("backoffice.resources.users.create"))}},ue=ne&&ne.map((function(e){return{type:e.type,name:y.a.createElement(b.u,{container:!0,direction:"row",alignItems:"center",wrap:"nowrap"},y.a.createElement(b.u,{item:!0},e.name)),email:e.email,actions:y.a.createElement("div",{style:{width:120,flex:"no-wrap"}},y.a.createElement(b.lb,{title:Lang.get("resources.edit_image",{name:"User"})},y.a.createElement(b.y,{onClick:function(){return te.push(v.a("backoffice.resources.users.edit",{id:e.id},{step:2}))}},y.a.createElement(g.a,null))),y.a.createElement(b.lb,{title:Lang.get("resources.edit",{name:"User"})},y.a.createElement(b.y,{onClick:function(){return te.push(v.a("backoffice.resources.users.edit",{id:e.id}))}},y.a.createElement(m.a,null))),$.id!==e.id&&y.a.createElement(b.lb,{title:Lang.get("resources.delete",{name:"User"})},y.a.createElement(b.y,{color:"secondary",onClick:function(){return t=e.id,void z({type:"confirmation",title:Lang.get("resources.delete_confirmation_title",{name:"User"}),body:Lang.get("resources.delete_confirmation_body",{name:"User"}),confirmText:Lang.get("actions.continue"),confirmed:(n=l()(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)}),cancelled:function(){return z({})}});var t,n}},y.a.createElement(h.a,null))))}}));return y.a.createElement(j.b,a()({},ee,(t={loading:c,pageTitle:Lang.get("navigation.users"),primaryAction:oe,tabs:[{name:"List",active:!0}]},o()(t,"loading",c),o()(t,"message",J),o()(t,"alert",q),t)),!c&&ue&&y.a.createElement(w.f,{title:Lang.get("navigation.users"),data:ue,total:re,columns:[{name:"Type",property:"type"},{name:"Name",property:"name",sort:!0},{name:"Email",property:"email",sort:!0},{name:"Actions",property:"actions",filter:!1,sort:!1}],filters:D,sortBy:U.by,sortType:U.type,headerCellClicked:function(e){return K(e,"asc"===U.type?"desc":"asc")},page:parseInt(ce),perPage:parseInt(ae),onChangePage:M,onChangePerPage:Q,onFilter:H,onFilterRemove:G}))}}}]);