(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{959:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return s}));var r=n(22),a=Object(r.a)((function(){return n.e(44).then(n.bind(null,963))})),c=Object(r.a)((function(){return n.e(17).then(n.bind(null,964))})),s=Object(r.a)((function(){return Promise.all([n.e(0),n.e(45)]).then(n.bind(null,965))}))},976:function(e,t,n){"use strict";n.r(t);var r=n(4),a=n.n(r),c=n(5),s=n.n(c),u=n(47),i=n.n(u),o=n(9),l=n.n(o),p=n(35),m=n.n(p),f=n(54),d=n.n(f),b=n(31),h=n.n(b),g=n(0),v=n.n(g),w=n(21),O=n(28),y=n(61),E=n(106),j=n(942),k=n(203),S=n(941),P=n(959);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(n,!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.default=Object(O.withStyles)((function(e){return{pageContentWrapper:{width:"100%",marginTop:3*e.spacing.unit,minHeight:"75vh",overflowX:"auto"},pageContent:{padding:3*e.spacing.unit},loadingContainer:{minHeight:200}}}))((function(e){var t=Object(g.useState)(!1),n=h()(t,2),r=n[0],c=n[1],u=Object(g.useState)(0),o=h()(u,2),l=o[0],p=o[1],f=Object(g.useState)([]),b=h()(f,2),O=b[0],x=b[1],D=Object(g.useState)({}),N=h()(D,2),U=N[0],W=N[1],A=Object(g.useState)({}),B=h()(A,2),H=B[0],I=B[1],J=function(){var e=d()(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.prev=1,e.next=4,j.g.show(t);case 4:n=e.sent,W(n),c(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),c(!1);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),T=function(){p(l-1)},X=function(){var e=d()(m.a.mark((function e(t,n){var r,a,s,u,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.setSubmitting,a=n.setErrors,r(!1),2!==l){e.next=4;break}return e.abrupt("return");case 4:return c(!0),e.prev=5,s={},1===l&&(s=O.reduce((function(e,t){return C({},e,{},t)}))),t.step=l,e.next=11,j.g.update(U.id,C({},s,{},t));case 11:e.sent,(u=i()(O))[l]=t,1===l&&I({type:"success",body:Lang.get("resources.updated",{name:"User"}),closed:function(){return I({})}}),c(!1),x(u),W(U),p(l+1),e.next=28;break;case 21:if(e.prev=21,e.t0=e.catch(5),e.t0.response){e.next=25;break}throw new Error("Unknown error");case 25:o=e.t0.response.data.errors,a(o),c(!1);case 28:case"end":return e.stop()}}),e,null,[[5,21]])})));return function(t,n){return e.apply(this,arguments)}}();Object(g.useEffect)((function(){if(!(Object.keys(U).length>0)){var t=e.match.params,n=e.location,r=y.a(n.search);r.hasOwnProperty("step")&&p(parseInt(r.step)),J(t.id)}}));var L=e.classes,M=s()(e,["classes"]),V=e.history,q=v.a.createElement(w.v,{container:!0,className:L.loadingContainer,justify:"center",alignItems:"center"},v.a.createElement(w.v,{item:!0},v.a.createElement(w.f,{color:"primary"})));return v.a.createElement(S.b,a()({},M,{pageTitle:"Edit user",tabs:[],message:H}),v.a.createElement("div",{className:L.pageContentWrapper},r&&v.a.createElement(k.b,null),v.a.createElement(w.P,null,v.a.createElement("div",{className:L.pageContent},v.a.createElement(w.mb,{component:"h1",variant:"h4",align:"center",gutterBottom:!0},"User Modification"),v.a.createElement(w.X,{activeStep:l,className:L.stepper},["Profile","Account","Avatar"].map((function(e){return v.a.createElement(w.V,{key:e},v.a.createElement(w.W,null,e))}))),function(){if(r)return q;var e={firstname:null===U.firstname?"":U.firstname,middlename:null===U.middlename?"":U.middlename,lastname:null===U.lastname?"":U.lastname,gender:null===U.gender?"":U.gender,birthdate:U.birthdate,address:null===U.address?"":U.address};switch(l){case 0:return v.a.createElement(P.c,a()({},M,{values:O[0]?O[0]:e,handleSubmit:X}));case 1:return v.a.createElement(P.a,a()({},M,{values:{type:null===U.type?"":U.type,email:null===U.email?"":U.email,username:null===U.username?"":U.username},handleSubmit:X,handleBack:T}));case 2:return v.a.createElement(P.b,a()({},M,{user:U,handleSkip:function(){return V.push(E.a("backoffice.resources.users.index"))}}));default:throw new Error("Unknown step!")}}()))))}))}}]);