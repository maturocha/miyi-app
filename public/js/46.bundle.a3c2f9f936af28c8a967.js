(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{983:function(e,t,a){"use strict";a.r(t);var n=a(4),r=a.n(n),i=a(5),o=a.n(i),s=a(35),u=a.n(s),c=a(54),l=a.n(c),m=a(31),p=a.n(m),h=a(0),d=a.n(h),g=a(899),b=a(148),f=a(147),w=a(21),v=a(28),y=a(105),E=a(61),S=a(204);var O=Object(v.withStyles)((function(e){return{formGroup:{padding:2*e.spacing.unit,paddingTop:0}}}))((function(e){var t=Object(h.useState)(!1),a=p()(t,2),n=a[0],i=a[1],s=Object(h.useState)(""),c=p()(s,2),m=c[0],v=c[1],O=Object(h.useState)({}),k=p()(O,2),j=k[0],x=k[1],C=function(){var t=l()(u.a.mark((function t(a,n){var r,o,s,c,l,m;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.setSubmitting,o=n.setErrors,r(!1),t.prev=2,i(!0),s=e.history,c=a.email,l=y.a("auth.passwords.reset"),t.next=9,axios.post("api/v1/auth/password/request",{email:c,routeSuffix:l});case 9:i(!1),x({type:"success",title:"Link Sent",body:"Check your email to reset your account. Thank you.",action:function(){return s.push("/signin?username=".concat(c))}}),t.next=22;break;case 13:if(t.prev=13,t.t0=t.catch(2),t.t0.response){t.next=19;break}return i(!1),x({type:"error",title:"Something went wrong",body:"Oops? Something went wrong here. Please try again.",action:function(){return window.location.reload()}}),t.abrupt("return");case 19:m=t.t0.response.data.errors,o(m),i(!1);case 22:case"end":return t.stop()}}),t,null,[[2,13]])})));return function(e,a){return t.apply(this,arguments)}}();Object(h.useEffect)((function(){if(""!==m){var t=e.location;v(E.a(t.search).hasOwnProperty("username")?E.a(t.search).username:"")}}));var L=e.classes,q=o()(e,["classes"]),G=e.location;return d.a.createElement(S.a,r()({},q,{title:Lang.get("navigation.password_request_title"),subTitle:"",loading:n,message:j}),d.a.createElement(b.b,{initialValues:{email:m||E.a(G.search).username},onSubmit:C,validationSchema:f.object().shape({email:f.string().required(Lang.get("validation.required",{attribute:"email"}))})},(function(e){var t=e.values,a=e.handleChange,n=e.errors,i=e.submitCount,o=e.isSubmitting;return d.a.createElement(b.a,{autoComplete:"off"},d.a.createElement(w.u,{container:!0,direction:"column"},d.a.createElement(w.u,{item:!0,className:L.formGroup},d.a.createElement(w.ib,{id:"email",type:"email",label:"Email",value:t.email,onChange:a,variant:"outlined",fullWidth:!0,error:i>0&&n.hasOwnProperty("email"),helperText:i>0&&n.hasOwnProperty("email")&&n.email})),d.a.createElement(w.u,{item:!0,className:L.formGroup},d.a.createElement(w.E,{component:function(e){return d.a.createElement(g.a,r()({},e,{to:{search:E.b({username:m}),pathname:y.a("auth.signin")}}))}},Lang.get("navigation.signin")))),d.a.createElement(w.u,{container:!0,justify:"space-between"},d.a.createElement(w.u,{item:!0}),d.a.createElement(w.u,{item:!0,className:L.formGroup},d.a.createElement(w.c,{type:"submit",variant:"contained",color:"primary",disabled:n&&Object.keys(n).length>0&&i>0||o},Lang.get("navigation.send_link")))))})))}));t.default=Object(b.c)({})(O)}}]);